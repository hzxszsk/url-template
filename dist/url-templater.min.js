!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):r.UrlTemplater=t()}(this,function(){"use strict";var r={isString:function(r){return"string"==typeof r},isNumber:function(r){return"number"==typeof r},isArray:function(r){return Array.isArray(r)},isObject:function(r){return"[object Object]"===Object.prototype.toString.call(r)},isFunction:function(r){return"function"==typeof r},isNull:function(r){return null===r}},t=function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(){function r(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),n=function(){function n(){t(this,n)}return e(n,null,[{key:"parse",value:function(t){if(r.isString(t)){var e={protocol:null,host:null,path:null,query:null,hash:null},n=/^(\w+):\/\//,o=t.match(n);if(o&&(e.protocol=o[1],t=t.slice(o[0].length)),t.split("/")[0].length>0){var i=t.split("/")[0];e.host=i,t=t.slice(i.length)}var a=t.indexOf("#");-1!==a&&(e.hash=t.slice(a),t=t.slice(0,a));var u=t.indexOf("?");return-1!==u?(e.path=t.slice(0,u),e.query=t.slice(u+1)):e.path=t,e}throw new Error("parameter url must be a string")}},{key:"format",value:function(t){if(r.isObject(t)){var e=[];return e.push(t.protocol?t.protocol+"://":""),e.push(t.host?t.host:""),e.push(t.port?":"+t.port:""),e.push(t.path?t.path:""),e.push(t.query?"?"+t.query:""),e.push(t.hash?t.hash:""),e.join()}throw new Error("parameter url_obj must be a object")}}]),n}(),o=function(){function o(e,i){if(t(this,o),!r.isString(e))throw new Error("parameter url must be a string!");this._templater=e,this._templaterObj=n.parse(e),this.options=Object.assign({},o.DEFAULT_OPTIONS,i)}return e(o,[{key:"resolve",value:function(r){var t=r.params,e=void 0===t?{}:t,n=r.query,o=void 0===n?{}:n;return this.getResolvedParamsPart(e)+this.getResolvedQueryPart(o)}},{key:"getResolvedQueryPart",value:function(t){var e={objCombine:this.options.objCombine,arrCombineStart:this.options.arrCombineStart,arrCombineEnd:this.options.arrCombineEnd},n=this._templater.endsWith("?")?"":"?",o=[];for(var i in t){var a=function t(n,o){if(r.isArray(o)){for(var i=[],a=0;a<o.length;a++)i.concat(t(""+n+e.arrCombineStart+a+e.arrCombineEnd,o[a]));return i}if(r.isObject(o)){var u=[];for(var s in o)u.concat(t(""+n+e.objCombine+s,o[s]));return u}return r.isFunction(o)?t(n,o()):(o=encodeURI(o.toString()),n+"="+o)}(i,t[i]);r.isArray(a)?o.concat(a):r.isString&&o.push(a)}return n+o.join("&")}},{key:"getResolvedParamsPart",value:function(r){var t=this.options.paramsRule,e=Object.assign({},this._templaterObj);return e.path=e.path.replace(t,function(t,e){return r[e]||""}),n.format(e)}}]),o}();return o.DEFAULT_OPTIONS={objCombine:".",arrCombineStart:"[",arrCombineEnd:"]",paramsRule:/:(\w+)/g},o.version="1.0.0",{UrlTemplater:o,Url:n}});
//# sourceMappingURL=url-templater.min.js.map
