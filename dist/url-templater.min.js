!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):t.UrlTemplater=r()}(this,function(){"use strict";var t={isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:function(t){return Array.isArray(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isFunction:function(t){return"function"==typeof t},isNull:function(t){return null===t},isNotEmptyString:function(r){return!!(t.isString(r)&&r.trim().length>0)},concatString:function(){return[].concat(Array.prototype.slice.call(arguments)).reduce(function(t,r){return r?t+r:t},"")}},r=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(r,n,e){return n&&t(r.prototype,n),e&&t(r,e),r}}(),e=function(){function e(){r(this,e)}return n(e,null,[{key:"parse",value:function(r){if(t.isString(r)){var n={protocol:"",host:"",path:"",query:"",hash:""},e=/^(\w+):\/\//,i=r.match(e);i&&(n.protocol=i[1],r=r.slice(i[0].length));var o=/^[a-zA-Z0-9][-a-zA-Z0-9_]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9_]{0,62})*(:\d{0,5})?/,a=r.match(o);a&&(n.host=a[0],r=r.slice(n.host.length));var u=/#.*$/,s=r.match(u);s&&(n.hash=s[0],r=r.slice(0,r.length-n.hash.length));var c=/\?(.*)$/,l=r.match(c);return l?(n.query=l[1],n.path=r.slice(0,l.index)):n.path=r,n}throw new Error("parameter url must be a string")}},{key:"format",value:function(r){if(t.isObject(r)){var n=[];return n.push(t.isNotEmptyString(r.protocol)?r.protocol+"://":""),n.push(t.isNotEmptyString(r.host)?r.host:""),n.push(t.isNotEmptyString(r.path)?r.path:""),n.push(t.isNotEmptyString(r.query)?"?"+r.query:""),n.push(t.isNotEmptyString(r.hash)?r.hash:""),n.join("")}throw new Error("parameter url_obj must be a object")}}]),e}(),i=function(){function i(n,o){if(r(this,i),!t.isString(n))throw new Error("parameter url must be a string!");this.options=Object.assign({},i.DEFAULT_OPTIONS,o),this.template=n,this.templateObj=e.parse(n)}return n(i,[{key:"resolve",value:function(t){var r=t.params,n=void 0===r?{}:r,e=t.query,i=void 0===e?{}:e,o=this.getQueryPart(i);return this.getFullUrl(n,o)}},{key:"getQueryPart",value:function(r){var n=function(r,n){if(!t.isArray(r))throw new Error("parameter array must be an Array Object");return t.isArray(n)?r=r.concat(n):r.push(n),r},e={objCombine:this.options.objCombine,arrCombine:this.options.arrCombine},i=[];for(var o in r){var a=function r(i,o){if(t.isArray(o)){for(var a=[],u=0;u<o.length;u++){var s=""+i+e.arrCombine[0]+u+e.arrCombine[1],c=o[u];a=n(a,r(s,c))}return a}if(t.isObject(o)){var l=[];for(var h in o){var p=""+i+e.objCombine+h,f=o[h];l=n(l,r(p,f))}return l}return t.isFunction(o)?r(i,o()):t.concatString(i,"=",o)}(o,r[o]);i=n(i,a)}return i.join("&")}},{key:"getFullUrl",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=new RegExp(this.options.paramsRule,"g"),o=Object.assign({},this.templateObj),a="";return o.query&&o.query.length>0&&n.length>0&&(a="&"),o.query=t.concatString(o.query,a,n),o.path=o.path.replace(i,function(n,e){for(var i=r[e];t.isFunction(i);)i=i();return i||""}),e.format(o)}}]),i}();return i.DEFAULT_OPTIONS={objCombine:".",arrCombine:["[","]"],paramsRule:/:(\w+)/g},i.version="1.0.0",i});
//# sourceMappingURL=url-templater.min.js.map
